# Timescale-WebAPI
Тестовое задание на позицию Разработчик C# (стажер) в АО ИнфоТеКС

## Описание проекта
WebAPI приложение для работы с timescale данными некоторых результатов
обработки. API содержит 3 метода:
 - Загрузка файла и сохранение данных в БД
 - Получение списка записей из таблицы Results, подходящих под фильтры. Могут применяться фильтры:
   - по имени файла
   - по времени запуска первой операции (диапазон)
   - по среднему показателю (диапазон)
   - по среднему времени выполнению (диапазон)
 - Получение списка последних 10 значений, отсортированных по начальному
     времени запуска Date по имени заданного файла.

## Технологии

- C#
- ASP.NET Core
- Entity Framework Core
- PostgreSQL
- MediatR (CQRS)
- FluentValidation
- AutoMapper
- Swagger
- Docker & Docker Compose
- xUnit

## Запуск проекта

Для запуска с помощью **Docker Compose** выполните следующие команды в терминале из корневой папки проекта:
``` bash

cd Backend
docker compose up --build
```

После сборки документация **Swagger** будет доступна по адресу:
`http://localhost:8081/swagger/index.html`

## Тестирование

В проекте реализованы:
- unit-тесты сервисов и репозиториев
- интеграционные тесты контроллеров с использованием WebApplicationFactory

Для запуска тестов выполните следующие команды в терминале из корневой папки проекта:

``` bash

cd Backend
dotnet test
```

## Формат загружаемого файла

Файл должен быть в формате CSV с разделителем `;`.

Пример:
```csv
Date;ExecutionTime;Value
2026-01-21T10:00:00.000Z;0.5;100.0
2026-01-21T10:01:00.000Z;0.8;102.75
2026-01-21T10:02:00.000Z;1.1;105.5
2026-01-21T10:03:00.000Z;1.4;108.25
2026-01-21T10:04:00.000Z;1.7;111.0
```

Ограничения:
- дата не может быть позже текущей и раньше 01.01.2000
- время выполнения не может быть меньше 0
- значение показателя не может быть меньше 0
- количество строк не может быть меньше 1 и больше 10 000
- значения должны соответствовать своим типам, отсутствие одного из значений в записи недопустимо.